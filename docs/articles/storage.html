<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Storage • firebase</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/paper/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Storage">
<meta property="og:description" content="firebase">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-74544116-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-74544116-1');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">firebase</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../LICENSE.html">
    <span class="fa fa-balance-scale"></span>
     
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
  </a>
</li>
<li>
  <a href="../reference/">Reference</a>
</li>
<li>
  <a href="../articles/get-started.html">Get Started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="dropdown-header">Authenticate</li>
    <li>
      <a href="../articles/ui.html">Prebuilt UI</a>
    </li>
    <li>
      <a href="../articles/social.html">Social Login</a>
    </li>
    <li>
      <a href="../articles/email-password.html">Email &amp; Password</a>
    </li>
    <li>
      <a href="../articles/email-link.html">Email Link</a>
    </li>
    <li>
      <a href="../articles/phone.html">Phone</a>
    </li>
    <li>
      <a href="../articles/oauth-providers.html">Oauth Providers</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Storage</li>
    <li>
      <a href="../articles/storage.html">Usage</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Usage</li>
    <li>
      <a href="../articles/state-persistence.html">State Persistence</a>
    </li>
    <li>
      <a href="../articles/flow.html">Flow</a>
    </li>
    <li>
      <a href="../articles/manage.html">Manage Users</a>
    </li>
    <li>
      <a href="../articles/demo.html">Demo</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/JohnCoene/fireblaze">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Storage</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/JohnCoene/firebase/blob/master/vignettes/storage.Rmd"><code>vignettes/storage.Rmd</code></a></small>
      <div class="hidden name"><code>storage.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>Firebase comes with many features, it is not limited to authentication. This document covers <a href="https://firebase.google.com/docs/storage">Firebase Storage</a>, a storage system akin to AWS S3 though more flexible.</p>
<p>Firebase Storage stores files, you can add files, download files, delete files, and list the files. These files can be in buckets, or directories.</p>
<p>This requires the authentication to work, which has the advantage of easily ensuring that only those who may access certain files can.</p>
<p>Let’s start from a basic application that features authentication. The app below uses the pre-built UI, probably the simplest app that can be made using Firebase.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://firebase.john-coene.com/">firebase</a></span><span class="op">)</span>

<span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/dependencies.html">useFirebase</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># import dependencies</span>
  <span class="fu"><a href="../reference/dependencies.html">useFirebaseUI</a></span><span class="op">(</span><span class="op">)</span>,
  <span class="fu"><a href="../reference/reqSignin.html">reqSignin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">h4</a></span><span class="op">(</span><span class="st">"Logged in!"</span><span class="op">)</span><span class="op">)</span> <span class="co"># hide from UI</span>
<span class="op">)</span>

<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span><span class="op">{</span>
  <span class="va">f</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/FirebaseUI.html">FirebaseUI</a></span><span class="op">$</span>
    <span class="fu">new</span><span class="op">(</span><span class="op">)</span><span class="op">$</span> <span class="co"># instantiate</span>
    <span class="fu">set_providers</span><span class="op">(</span> <span class="co"># define providers</span>
      email <span class="op">=</span> <span class="cn">TRUE</span>, 
      google <span class="op">=</span> <span class="cn">TRUE</span>
    <span class="op">)</span><span class="op">$</span>
    <span class="fu">launch</span><span class="op">(</span><span class="op">)</span> <span class="co"># launch</span>
<span class="op">}</span>

<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></code></pre></div>
</div>
<div id="initialise" class="section level2">
<h2 class="hasAnchor">
<a href="#initialise" class="anchor"></a>Initialise</h2>
<p>To use the storage we need to Initialise it client-side, it’s very simple.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shiny.rstudio.com/">shiny</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://firebase.john-coene.com/">firebase</a></span><span class="op">)</span>

<span class="va">ui</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/fluidPage.html">fluidPage</a></span><span class="op">(</span>
  <span class="fu"><a href="../reference/dependencies.html">useFirebase</a></span><span class="op">(</span><span class="op">)</span>, <span class="co"># import dependencies</span>
  <span class="fu"><a href="../reference/dependencies.html">useFirebaseUI</a></span><span class="op">(</span><span class="op">)</span>,
  <span class="fu"><a href="../reference/reqSignin.html">reqSignin</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/htmltools/man/builder.html">h4</a></span><span class="op">(</span><span class="st">"Logged in!"</span><span class="op">)</span><span class="op">)</span> <span class="co"># hide from UI</span>
<span class="op">)</span>

<span class="va">server</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">input</span>, <span class="va">output</span><span class="op">)</span><span class="op">{</span>
  <span class="va">f</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/FirebaseUI.html">FirebaseUI</a></span><span class="op">$</span>
    <span class="fu">new</span><span class="op">(</span><span class="op">)</span><span class="op">$</span> <span class="co"># instantiate</span>
    <span class="fu">set_providers</span><span class="op">(</span> <span class="co"># define providers</span>
      email <span class="op">=</span> <span class="cn">TRUE</span>, 
      google <span class="op">=</span> <span class="cn">TRUE</span>
    <span class="op">)</span><span class="op">$</span>
    <span class="fu">launch</span><span class="op">(</span><span class="op">)</span> <span class="co"># launch</span>

  <span class="va">s</span> <span class="op">&lt;-</span> <span class="va"><a href="../reference/Storage.html">Storage</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="op">)</span> <span class="co"># initialise</span>
<span class="op">}</span>

<span class="fu"><a href="https://rdrr.io/pkg/shiny/man/shinyApp.html">shinyApp</a></span><span class="op">(</span><span class="va">ui</span>, <span class="va">server</span><span class="op">)</span></code></pre></div>
</div>
<div id="reference" class="section level2">
<h2 class="hasAnchor">
<a href="#reference" class="anchor"></a>Reference</h2>
<p>A crucial concept with the <code>Storage</code> is the idea of the reference. The reference is the path, directory, or bucket one is currently working with.</p>
<p>This is defined by a method on its own, methods used subsequently will then use this as reference.</p>
<p>For instance one can reference the file <code>test.png</code> even if it does not exist, then calling the method to upload a file will upload the file as <code>test.png</code>. <em>Make sure you keep track of this.</em></p>
</div>
<div id="response" class="section level2">
<h2 class="hasAnchor">
<a href="#response" class="anchor"></a>Response</h2>
<p>Much of JavaScript works asynchronously, it’s certainly one of its strong points. This means that when a function is called we do not receive the result from said function straight away, we get a promise back. Exactly like the R {promises} package.</p>
<p>Hence when triggering a sign in with other classes of the package the response is not returned by the same function. This is because the results of the authentication are returned later, and we cannot know when.</p>
<p>The same applies to the storage: when we upload a file we cannot know whether the upload was successful at the time of the upload, only later, and so on for every action we take on the storage.</p>
<p>Therefore, upon performing such actions (upload, delete, etc.) we (optionally) specify a <code>response</code>. This response identifier can then be used with the <code>get_response</code> method to retrieve the results of said operation: <code>get_response</code> acts exactly like any other shiny <code>input</code>.</p>
</div>
<div id="upload" class="section level2">
<h2 class="hasAnchor">
<a href="#upload" class="anchor"></a>Upload</h2>
<p>We can then upload a file with the <code>upload_file</code> method.</p>
<p>Note that below we use a file on disk but you can use uploaded files: the method accepts the path to a file which can be obtained from a file upload in Shiny.</p>
<p>We also set the reference (<code>ref</code>) to <code>test.png</code>, we’ll be working with this file; it does not exist yet, we’ll create it, download it, delete it, etc.</p>
<p>The button to upload is only rendered if the user is logged in. The button triggers to <code>upload_file</code> method that uploads a file from the disk.</p>
<p>We then retrieve and print the result of the upload with the <code>get_response</code> method.</p>
<p>Note that you can set <code>response</code> to <code>FALSE</code> if you do not want to retrieve the results.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">library</span>(shiny)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">library</span>(firebase)</a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4">ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</a>
<a class="sourceLine" id="cb3-5" title="5">  <span class="kw">useFirebase</span>(), <span class="co"># import dependencies</span></a>
<a class="sourceLine" id="cb3-6" title="6">  <span class="kw">useFirebaseUI</span>(),</a>
<a class="sourceLine" id="cb3-7" title="7">  <span class="kw">reqSignin</span>(<span class="kw">h4</span>(<span class="st">"Logged in!"</span>)), <span class="co"># hide from UI</span></a>
<a class="sourceLine" id="cb3-8" title="8">  <span class="kw">uiOutput</span>(<span class="st">"uploadUI"</span>)</a>
<a class="sourceLine" id="cb3-9" title="9">)</a>
<a class="sourceLine" id="cb3-10" title="10"></a>
<a class="sourceLine" id="cb3-11" title="11">server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output){</a>
<a class="sourceLine" id="cb3-12" title="12">  f &lt;-<span class="st"> </span>FirebaseUI<span class="op">$</span></a>
<a class="sourceLine" id="cb3-13" title="13"><span class="st">    </span><span class="kw">new</span>()<span class="op">$</span><span class="st"> </span><span class="co"># instantiate</span></a>
<a class="sourceLine" id="cb3-14" title="14"><span class="st">    </span><span class="kw">set_providers</span>( <span class="co"># define providers</span></a>
<a class="sourceLine" id="cb3-15" title="15">      <span class="dt">email =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb3-16" title="16">      <span class="dt">google =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb3-17" title="17">    )<span class="op">$</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="st">    </span><span class="kw">launch</span>() <span class="co"># launch</span></a>
<a class="sourceLine" id="cb3-19" title="19"></a>
<a class="sourceLine" id="cb3-20" title="20">  s &lt;-<span class="st"> </span>Storage<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb3-21" title="21">    <span class="op">$</span><span class="kw">ref</span>(<span class="st">"test.png"</span>)</a>
<a class="sourceLine" id="cb3-22" title="22">  </a>
<a class="sourceLine" id="cb3-23" title="23">  <span class="co"># upload a file</span></a>
<a class="sourceLine" id="cb3-24" title="24">  output<span class="op">$</span>uploadUI &lt;-<span class="st"> </span><span class="kw">renderUI</span>({</a>
<a class="sourceLine" id="cb3-25" title="25">    f<span class="op">$</span><span class="kw">req_sign_in</span>()</a>
<a class="sourceLine" id="cb3-26" title="26"></a>
<a class="sourceLine" id="cb3-27" title="27">    <span class="kw">actionButton</span>(<span class="st">"upload"</span>, <span class="st">"Upload Image"</span>)</a>
<a class="sourceLine" id="cb3-28" title="28">  })</a>
<a class="sourceLine" id="cb3-29" title="29"></a>
<a class="sourceLine" id="cb3-30" title="30">  <span class="kw">observeEvent</span>(input<span class="op">$</span>upload, {</a>
<a class="sourceLine" id="cb3-31" title="31">    s<span class="op">$</span><span class="kw">upload_file</span>(<span class="st">"/path/to/file.png"</span>)</a>
<a class="sourceLine" id="cb3-32" title="32">  })</a>
<a class="sourceLine" id="cb3-33" title="33"></a>
<a class="sourceLine" id="cb3-34" title="34">  <span class="kw">observeEvent</span>(s<span class="op">$</span><span class="kw">get_response</span>(), {</a>
<a class="sourceLine" id="cb3-35" title="35">    <span class="kw">print</span>(s<span class="op">$</span><span class="kw">get_response</span>())</a>
<a class="sourceLine" id="cb3-36" title="36">  })</a>
<a class="sourceLine" id="cb3-37" title="37">}</a>
<a class="sourceLine" id="cb3-38" title="38"></a>
<a class="sourceLine" id="cb3-39" title="39"><span class="kw">shinyApp</span>(ui, server)</a></code></pre></div>
</div>
<div id="download" class="section level2">
<h2 class="hasAnchor">
<a href="#download" class="anchor"></a>Download</h2>
<p>Once the file uploaded we can add a button to download the file. It does not truly download the file but will retrieve a valid URL to it. You may then do what you want with said link, download the file with {httr} (or {httr2}), use it as <code>src</code> atribute for a an <code>&lt;img/&gt;</code> tag, etc.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">library</span>(shiny)</a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">library</span>(firebase)</a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4">ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="kw">useFirebase</span>(), <span class="co"># import dependencies</span></a>
<a class="sourceLine" id="cb4-6" title="6">  <span class="kw">useFirebaseUI</span>(),</a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="kw">reqSignin</span>(<span class="kw">h4</span>(<span class="st">"Logged in!"</span>)), <span class="co"># hide from UI</span></a>
<a class="sourceLine" id="cb4-8" title="8">  <span class="kw">uiOutput</span>(<span class="st">"uploadUI"</span>),</a>
<a class="sourceLine" id="cb4-9" title="9">  <span class="kw">uiOutput</span>(<span class="st">"downloadUI"</span>)</a>
<a class="sourceLine" id="cb4-10" title="10">)</a>
<a class="sourceLine" id="cb4-11" title="11"></a>
<a class="sourceLine" id="cb4-12" title="12">server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output){</a>
<a class="sourceLine" id="cb4-13" title="13">  f &lt;-<span class="st"> </span>FirebaseUI<span class="op">$</span></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="st">    </span><span class="kw">new</span>()<span class="op">$</span><span class="st"> </span><span class="co"># instantiate</span></a>
<a class="sourceLine" id="cb4-15" title="15"><span class="st">    </span><span class="kw">set_providers</span>( <span class="co"># define providers</span></a>
<a class="sourceLine" id="cb4-16" title="16">      <span class="dt">email =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb4-17" title="17">      <span class="dt">google =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb4-18" title="18">    )<span class="op">$</span></a>
<a class="sourceLine" id="cb4-19" title="19"><span class="st">    </span><span class="kw">launch</span>() <span class="co"># launch</span></a>
<a class="sourceLine" id="cb4-20" title="20"></a>
<a class="sourceLine" id="cb4-21" title="21">  s &lt;-<span class="st"> </span>Storage<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb4-22" title="22">    <span class="op">$</span><span class="kw">ref</span>(<span class="st">"test.png"</span>)</a>
<a class="sourceLine" id="cb4-23" title="23">  </a>
<a class="sourceLine" id="cb4-24" title="24">  <span class="co"># upload a file</span></a>
<a class="sourceLine" id="cb4-25" title="25">  output<span class="op">$</span>uploadUI &lt;-<span class="st"> </span><span class="kw">renderUI</span>({</a>
<a class="sourceLine" id="cb4-26" title="26">    f<span class="op">$</span><span class="kw">req_sign_in</span>()</a>
<a class="sourceLine" id="cb4-27" title="27"></a>
<a class="sourceLine" id="cb4-28" title="28">    <span class="kw">actionButton</span>(<span class="st">"upload"</span>, <span class="st">"Upload Image"</span>)</a>
<a class="sourceLine" id="cb4-29" title="29">  })</a>
<a class="sourceLine" id="cb4-30" title="30"></a>
<a class="sourceLine" id="cb4-31" title="31">  <span class="kw">observeEvent</span>(input<span class="op">$</span>upload, {</a>
<a class="sourceLine" id="cb4-32" title="32">    s<span class="op">$</span><span class="kw">upload_file</span>(<span class="st">"/path/to/file.png"</span>)</a>
<a class="sourceLine" id="cb4-33" title="33">  })</a>
<a class="sourceLine" id="cb4-34" title="34"></a>
<a class="sourceLine" id="cb4-35" title="35">  <span class="kw">observeEvent</span>(s<span class="op">$</span><span class="kw">get_response</span>(), {</a>
<a class="sourceLine" id="cb4-36" title="36">    <span class="kw">print</span>(s<span class="op">$</span><span class="kw">get_response</span>())</a>
<a class="sourceLine" id="cb4-37" title="37">  })</a>
<a class="sourceLine" id="cb4-38" title="38">  </a>
<a class="sourceLine" id="cb4-39" title="39">  <span class="co"># download a file</span></a>
<a class="sourceLine" id="cb4-40" title="40">  output<span class="op">$</span>downloadUI &lt;-<span class="st"> </span><span class="kw">renderUI</span>({</a>
<a class="sourceLine" id="cb4-41" title="41">    f<span class="op">$</span><span class="kw">req_sign_in</span>()</a>
<a class="sourceLine" id="cb4-42" title="42"></a>
<a class="sourceLine" id="cb4-43" title="43">    <span class="kw">actionButton</span>(<span class="st">"download"</span>, <span class="st">"Download Image"</span>)</a>
<a class="sourceLine" id="cb4-44" title="44">  })</a>
<a class="sourceLine" id="cb4-45" title="45"></a>
<a class="sourceLine" id="cb4-46" title="46">  <span class="kw">observeEvent</span>(input<span class="op">$</span>download, {</a>
<a class="sourceLine" id="cb4-47" title="47">    s<span class="op">$</span><span class="kw">download_file</span>(<span class="st">"dl"</span>)</a>
<a class="sourceLine" id="cb4-48" title="48">  })</a>
<a class="sourceLine" id="cb4-49" title="49"></a>
<a class="sourceLine" id="cb4-50" title="50">  <span class="kw">observeEvent</span>(s<span class="op">$</span><span class="kw">get_response</span>(<span class="st">"dl"</span>), {</a>
<a class="sourceLine" id="cb4-51" title="51">    <span class="kw">print</span>(s<span class="op">$</span><span class="kw">get_response</span>(<span class="st">"dl"</span>))</a>
<a class="sourceLine" id="cb4-52" title="52">  })</a>
<a class="sourceLine" id="cb4-53" title="53">}</a>
<a class="sourceLine" id="cb4-54" title="54"></a>
<a class="sourceLine" id="cb4-55" title="55"><span class="kw">shinyApp</span>(ui, server)</a></code></pre></div>
</div>
<div id="delete" class="section level2">
<h2 class="hasAnchor">
<a href="#delete" class="anchor"></a>Delete</h2>
<p>To delete a file simply call the <code>delete_file</code> method.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">library</span>(shiny)</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">library</span>(firebase)</a>
<a class="sourceLine" id="cb5-3" title="3"></a>
<a class="sourceLine" id="cb5-4" title="4">ui &lt;-<span class="st"> </span><span class="kw">fluidPage</span>(</a>
<a class="sourceLine" id="cb5-5" title="5">  <span class="kw">useFirebase</span>(), <span class="co"># import dependencies</span></a>
<a class="sourceLine" id="cb5-6" title="6">  <span class="kw">useFirebaseUI</span>(),</a>
<a class="sourceLine" id="cb5-7" title="7">  <span class="kw">reqSignin</span>(<span class="kw">h4</span>(<span class="st">"Logged in!"</span>)), <span class="co"># hide from UI</span></a>
<a class="sourceLine" id="cb5-8" title="8">  <span class="kw">uiOutput</span>(<span class="st">"uploadUI"</span>),</a>
<a class="sourceLine" id="cb5-9" title="9">  <span class="kw">uiOutput</span>(<span class="st">"downloadUI"</span>),</a>
<a class="sourceLine" id="cb5-10" title="10">  <span class="kw">uiOutput</span>(<span class="st">"deleteUI"</span>)</a>
<a class="sourceLine" id="cb5-11" title="11">)</a>
<a class="sourceLine" id="cb5-12" title="12"></a>
<a class="sourceLine" id="cb5-13" title="13">server &lt;-<span class="st"> </span><span class="cf">function</span>(input, output){</a>
<a class="sourceLine" id="cb5-14" title="14">  f &lt;-<span class="st"> </span>FirebaseUI<span class="op">$</span></a>
<a class="sourceLine" id="cb5-15" title="15"><span class="st">    </span><span class="kw">new</span>()<span class="op">$</span><span class="st"> </span><span class="co"># instantiate</span></a>
<a class="sourceLine" id="cb5-16" title="16"><span class="st">    </span><span class="kw">set_providers</span>( <span class="co"># define providers</span></a>
<a class="sourceLine" id="cb5-17" title="17">      <span class="dt">email =</span> <span class="ot">TRUE</span>, </a>
<a class="sourceLine" id="cb5-18" title="18">      <span class="dt">google =</span> <span class="ot">TRUE</span></a>
<a class="sourceLine" id="cb5-19" title="19">    )<span class="op">$</span></a>
<a class="sourceLine" id="cb5-20" title="20"><span class="st">    </span><span class="kw">launch</span>() <span class="co"># launch</span></a>
<a class="sourceLine" id="cb5-21" title="21"></a>
<a class="sourceLine" id="cb5-22" title="22">  s &lt;-<span class="st"> </span>Storage<span class="op">$</span><span class="kw">new</span>()</a>
<a class="sourceLine" id="cb5-23" title="23">    <span class="op">$</span><span class="kw">ref</span>(<span class="st">"test.png"</span>)</a>
<a class="sourceLine" id="cb5-24" title="24">  </a>
<a class="sourceLine" id="cb5-25" title="25">  <span class="co"># upload a file</span></a>
<a class="sourceLine" id="cb5-26" title="26">  output<span class="op">$</span>uploadUI &lt;-<span class="st"> </span><span class="kw">renderUI</span>({</a>
<a class="sourceLine" id="cb5-27" title="27">    f<span class="op">$</span><span class="kw">req_sign_in</span>()</a>
<a class="sourceLine" id="cb5-28" title="28"></a>
<a class="sourceLine" id="cb5-29" title="29">    <span class="kw">actionButton</span>(<span class="st">"upload"</span>, <span class="st">"Upload Image"</span>)</a>
<a class="sourceLine" id="cb5-30" title="30">  })</a>
<a class="sourceLine" id="cb5-31" title="31"></a>
<a class="sourceLine" id="cb5-32" title="32">  <span class="kw">observeEvent</span>(input<span class="op">$</span>upload, {</a>
<a class="sourceLine" id="cb5-33" title="33">    s<span class="op">$</span><span class="kw">upload_file</span>(<span class="st">"/path/to/file.png"</span>)</a>
<a class="sourceLine" id="cb5-34" title="34">  })</a>
<a class="sourceLine" id="cb5-35" title="35"></a>
<a class="sourceLine" id="cb5-36" title="36">  <span class="kw">observeEvent</span>(s<span class="op">$</span><span class="kw">get_response</span>(), {</a>
<a class="sourceLine" id="cb5-37" title="37">    <span class="kw">print</span>(s<span class="op">$</span><span class="kw">get_response</span>())</a>
<a class="sourceLine" id="cb5-38" title="38">  })</a>
<a class="sourceLine" id="cb5-39" title="39">  </a>
<a class="sourceLine" id="cb5-40" title="40">  <span class="co"># download a file</span></a>
<a class="sourceLine" id="cb5-41" title="41">  output<span class="op">$</span>downloadUI &lt;-<span class="st"> </span><span class="kw">renderUI</span>({</a>
<a class="sourceLine" id="cb5-42" title="42">    f<span class="op">$</span><span class="kw">req_sign_in</span>()</a>
<a class="sourceLine" id="cb5-43" title="43"></a>
<a class="sourceLine" id="cb5-44" title="44">    <span class="kw">actionButton</span>(<span class="st">"download"</span>, <span class="st">"Download Image"</span>)</a>
<a class="sourceLine" id="cb5-45" title="45">  })</a>
<a class="sourceLine" id="cb5-46" title="46"></a>
<a class="sourceLine" id="cb5-47" title="47">  <span class="kw">observeEvent</span>(input<span class="op">$</span>download, {</a>
<a class="sourceLine" id="cb5-48" title="48">    s<span class="op">$</span><span class="kw">download_file</span>(<span class="st">"dl"</span>)</a>
<a class="sourceLine" id="cb5-49" title="49">  })</a>
<a class="sourceLine" id="cb5-50" title="50"></a>
<a class="sourceLine" id="cb5-51" title="51">  <span class="kw">observeEvent</span>(s<span class="op">$</span><span class="kw">get_response</span>(<span class="st">"dl"</span>), {</a>
<a class="sourceLine" id="cb5-52" title="52">    <span class="kw">print</span>(s<span class="op">$</span><span class="kw">get_response</span>(<span class="st">"dl"</span>))</a>
<a class="sourceLine" id="cb5-53" title="53">  })</a>
<a class="sourceLine" id="cb5-54" title="54">  </a>
<a class="sourceLine" id="cb5-55" title="55">  <span class="co"># delete file</span></a>
<a class="sourceLine" id="cb5-56" title="56">  output<span class="op">$</span>deleteUI &lt;-<span class="st"> </span><span class="kw">renderUI</span>({</a>
<a class="sourceLine" id="cb5-57" title="57">    f<span class="op">$</span><span class="kw">req_sign_in</span>()</a>
<a class="sourceLine" id="cb5-58" title="58"></a>
<a class="sourceLine" id="cb5-59" title="59">    <span class="kw">actionButton</span>(<span class="st">"delete"</span>, <span class="st">"Delete Image"</span>)</a>
<a class="sourceLine" id="cb5-60" title="60">  })</a>
<a class="sourceLine" id="cb5-61" title="61"></a>
<a class="sourceLine" id="cb5-62" title="62">  <span class="kw">observeEvent</span>(input<span class="op">$</span>delete, {</a>
<a class="sourceLine" id="cb5-63" title="63">    s<span class="op">$</span><span class="kw">delete_file</span>(<span class="st">"del"</span>)</a>
<a class="sourceLine" id="cb5-64" title="64">  })</a>
<a class="sourceLine" id="cb5-65" title="65"></a>
<a class="sourceLine" id="cb5-66" title="66">  <span class="kw">observeEvent</span>(s<span class="op">$</span><span class="kw">get_response</span>(<span class="st">"del"</span>), {</a>
<a class="sourceLine" id="cb5-67" title="67">    <span class="kw">print</span>(s<span class="op">$</span><span class="kw">get_response</span>(<span class="st">"del"</span>))</a>
<a class="sourceLine" id="cb5-68" title="68">  })</a>
<a class="sourceLine" id="cb5-69" title="69">}</a>
<a class="sourceLine" id="cb5-70" title="70"></a>
<a class="sourceLine" id="cb5-71" title="71"><span class="kw">shinyApp</span>(ui, server)</a></code></pre></div>
</div>
<div id="other-methods" class="section level2">
<h2 class="hasAnchor">
<a href="#other-methods" class="anchor"></a>Other Methods</h2>
<p>There are other methods to list files, and retrieve metadata but they work exactly like all others so we’ll live it at that</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://john-coene.com">John Coene</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
